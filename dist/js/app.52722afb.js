(function(){"use strict";var e={8859:function(e,t,a){var s=a(5130),r=a(6768),n=a(4232);const l={class:"app-wrapper"},i={class:"right-panel"},o={class:"logo-container"},c={class:"nav-buttons"},d={class:"button-list"},u={key:0},p={key:1},h={key:2},g={key:3},k={key:4,class:"welcome-message"},v={key:5},m={key:6};function f(e,t,a,s,f,b){const L=(0,r.g2)("router-link"),y=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",l,[t[10]||(t[10]=(0,r.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap",rel:"stylesheet"},null,-1)),t[11]||(t[11]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("aside",i,[(0,r.Lk)("div",o,[(0,r.bF)(L,{to:"/"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.Lk)("img",{src:"/images/logo.png",alt:"MonitorMaster Logo",class:"logo"},null,-1)]))),_:1})]),(0,r.Lk)("nav",c,[(0,r.Lk)("ul",d,[(0,r.Lk)("li",null,[(0,r.bF)(L,{to:"/",class:"button"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Главная")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(L,{to:"/about",class:"button"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("О нас")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(L,{to:"/contact",class:"button"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Контакты")]))),_:1})]),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",u,[(0,r.bF)(L,{to:"/repairs",class:"button"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("Ремонты")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",p,[(0,r.bF)(L,{to:"/clients",class:"button"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Клиенты")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",h,[(0,r.bF)(L,{to:"/login",class:"button"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("Войти")]))),_:1})])),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",g,[(0,r.bF)(L,{to:"/register",class:"button"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Зарегистрироваться")]))),_:1})])),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",k,[(0,r.Lk)("span",null,"Добро пожаловать, "+(0,n.v_)(f.username),1)])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",v,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>b.logout&&b.logout(...e)),class:"button"},"Выйти")])):(0,r.Q3)("",!0),f.isAuthenticated&&"admin"===f.role?((0,r.uX)(),(0,r.CE)("li",m,t[9]||(t[9]=[(0,r.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},[(0,r.Lk)("i",{class:"fas fa-lock"}),(0,r.eW)(" Админ-панель")],-1)]))):(0,r.Q3)("",!0)])])]),(0,r.Lk)("main",null,[(0,r.bF)(y)])])}a(4114);var b={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const e=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),t=await e.json();e.ok?(this.isAuthenticated=!0,this.username=t.username||"Пользователь",this.role=t.role||""):(console.error("Токен недействителен:",t.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(e){console.error("Ошибка проверки авторизации:",e),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const e=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});e.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(e){console.error("Ошибка выхода:",e),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},L=a(1241);const y=(0,L.A)(b,[["render",f],["__scopeId","data-v-6fa2ffcd"]]);var w=y,_=a(1387);const E={class:"container"},x={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},C=["src","alt"],A={class:"card-body"},P={class:"text-xl font-bold text-center mb-3"},X={class:"card-text text-center"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12"},j={class:"content-block card fade-in",style:{animationDelay:"0.4s"}},I={class:"text-lg space-y-4"},W={class:"text-gray-600"};function T(e,t,a,s,l,i){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",E,[t[3]||(t[3]=(0,r.Lk)("h1",{class:"page-title"},'Добро пожаловать в сервис "MonitorMaster"',-1)),(0,r.Lk)("div",x,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.services,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"image-block-centered card fade-in",key:t,style:(0,n.Tr)({animationDelay:.2*t+"s"})},[(0,r.Lk)("img",{src:e.image,alt:e.name,class:"img-block h-48 w-full object-cover"},null,8,C),(0,r.Lk)("div",A,[(0,r.Lk)("h5",P,(0,n.v_)(e.name),1),(0,r.Lk)("p",X,(0,n.v_)(e.description),1)])],4)))),128))]),(0,r.Lk)("div",$,[t[2]||(t[2]=(0,r.Lk)("div",{class:"content-block card fade-in",style:{animationDelay:"0.2s"}},[(0,r.Lk)("h4",{class:"text-2xl font-bold mb-4"},"О сервисе"),(0,r.Lk)("p",{class:"text-gray-600"},' Сервис "MonitorMaster" — это команда профессионалов, специализирующихся на ремонте и продаже мониторов более 8 лет. Мы работаем с любыми марками и моделями. '),(0,r.Lk)("p",{class:"text-gray-600"}," Наши мастера оперативно устранят неисправности и помогут подобрать качественный refurbished монитор. Мы ценим ваше время и комфорт. ")],-1)),(0,r.Lk)("div",j,[t[1]||(t[1]=(0,r.Lk)("h4",{class:"text-2xl font-bold mb-4"},"Почему мы?",-1)),(0,r.Lk)("ul",I,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.reasons,((e,a)=>((0,r.uX)(),(0,r.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,n.Tr)({animationDelay:.2*(a+1)+"s"})},[t[0]||(t[0]=(0,r.Lk)("span",{class:"text-green-500 mr-3 text-2xl"},"✅",-1)),(0,r.Lk)("span",W,(0,n.v_)(e),1)],4)))),128))])])])])])}a(8111),a(7588);var N={name:"HomePage",data(){return{services:[{name:"Замена матрицы",description:"Профессиональная замена экранов для мониторов Dell, Samsung, LG и других. Гарантия качества.",image:"/images/1.jpg"},{name:"Ремонт платы питания",description:"Диагностика и ремонт плат питания для всех моделей мониторов. Срок ремонта от 1 дня.",image:"/images/2.jpg"},{name:"Продажа мониторов",description:"Refurbished мониторы от ведущих брендов с гарантией и доставкой.",image:"/images/3.jpg"}],reasons:["Быстрый ремонт","Гарантия на все услуги и товары","Качественные комплектующие","Приемлемые цены","Бесплатная диагностика"]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const O=(0,L.A)(N,[["render",T],["__scopeId","data-v-e771772c"]]);var M=O;const Q={class:"container"},S={class:"content-block fade-in",ref:"block1"},F={class:"content-block fade-in",ref:"block2"};function U(e,t,a,s,n,l){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",Q,[t[2]||(t[2]=(0,r.Lk)("h1",{class:"page-title"},"Ремонт и продажа мониторов",-1)),(0,r.Lk)("div",S,t[0]||(t[0]=[(0,r.Lk)("div",{class:"text-block"},[(0,r.Lk)("h2",{class:"text-2xl font-bold mb-4"},'Добро пожаловать в сервис "MonitorMaster"'),(0,r.Lk)("p",{class:"fs-5"}," Мы специализируемся на ремонте и продаже мониторов всех популярных брендов: Dell, Samsung, LG, ASUS, Acer и других. Наши мастера выполняют диагностику, ремонт и предлагают качественные refurbished мониторы с гарантией. ")],-1)]),512),(0,r.Lk)("div",F,t[1]||(t[1]=[(0,r.Fv)('<div class="text-block" data-v-499842ee><h2 class="text-2xl font-bold mb-4 text-center" data-v-499842ee>Наши работы</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6" data-v-499842ee><div class="image-block photo-card fade-in" style="animation-delay:0.2s;" data-v-499842ee><img src="/images/11.jpg" alt="Замена матрицы" class="img-block" data-v-499842ee><div class="text-center pt-4" data-v-499842ee><span class="text-gray-600" data-v-499842ee>Замена матрицы монитора</span></div></div><div class="image-block photo-card fade-in" style="animation-delay:0.4s;" data-v-499842ee><img src="/images/22.jpg" alt="Ремонт платы" class="img-block" data-v-499842ee><div class="text-center pt-4" data-v-499842ee><span class="text-gray-600" data-v-499842ee>Ремонт платы питания</span></div></div><div class="image-block photo-card fade-in" style="animation-delay:0.6s;" data-v-499842ee><img src="/images/33.jpg" alt="Чистка системы" class="img-block" data-v-499842ee><div class="text-center pt-4" data-v-499842ee><span class="text-gray-600" data-v-499842ee>Чистка и настройка</span></div></div><div class="image-block photo-card fade-in" style="animation-delay:0.8s;" data-v-499842ee><img src="/images/44.jpg" alt="Ремонт подсветки" class="img-block" data-v-499842ee><div class="text-center pt-4" data-v-499842ee><span class="text-gray-600" data-v-499842ee>Ремонт подсветки</span></div></div><div class="image-block photo-card fade-in" style="animation-delay:1.0s;" data-v-499842ee><img src="/images/55.jpg" alt="Калибровка" class="img-block" data-v-499842ee><div class="text-center pt-4" data-v-499842ee><span class="text-gray-600" data-v-499842ee>Калибровка цветов</span></div></div></div>',2)]),512)])])}var D={name:"AboutPage",mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const R=(0,L.A)(D,[["render",U],["__scopeId","data-v-499842ee"]]);var q=R;const G={class:"container"},H={class:"mb-12"},V={class:"employees-row"},J={class:"card"},Z=["src","alt"],K={class:"card-body"},z={class:"card-title"},B={class:"card-text"};function Y(e,t,a,s,l,i){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",G,[t[1]||(t[1]=(0,r.Fv)('<h1 class="page-title" data-v-5a493826>Наша команда</h1><div class="content-block fade-in mb-12" data-v-5a493826><div class="text-block" data-v-5a493826><h2 class="text-2xl font-bold text-center mb-4" data-v-5a493826>О нашем сервисе</h2><p class="fs-5 text-center" data-v-5a493826> Сервис &quot;MonitorMaster&quot; — это профессиональный ремонт и продажа мониторов любых марок: Dell, Samsung, LG, ASUS, Acer и других. Мы используем качественные комплектующие и предоставляем гарантию на все работы и проданные устройства. </p></div></div>',2)),(0,r.Lk)("div",H,[t[0]||(t[0]=(0,r.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Наши сотрудники",-1)),(0,r.Lk)("div",V,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.employees,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"employee-card photo-card fade-in",key:t,style:(0,n.Tr)({animationDelay:.2*t+"s"})},[(0,r.Lk)("div",J,[(0,r.Lk)("img",{src:e.image,alt:e.name,class:"card-img-top"},null,8,Z),(0,r.Lk)("div",K,[(0,r.Lk)("h3",z,(0,n.v_)(e.name),1),(0,r.Lk)("p",B,(0,n.v_)(e.role),1)])])],4)))),128))])]),t[2]||(t[2]=(0,r.Fv)('<div class="content-block fade-in" data-v-5a493826><div class="text-block" data-v-5a493826><h2 class="text-2xl font-bold text-center mb-6" data-v-5a493826>Наши услуги</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-v-5a493826><div class="text-center fade-in" style="animation-delay:0.2s;" data-v-5a493826><h3 class="text-xl font-bold mb-2" data-v-5a493826>+ Диагностика</h3><p class="text-gray-600" data-v-5a493826>Бесплатная диагностика неисправностей мониторов.</p></div><div class="text-center fade-in" style="animation-delay:0.4s;" data-v-5a493826><h3 class="text-xl font-bold mb-2" data-v-5a493826>+ Замена матрицы</h3><p class="text-gray-600" data-v-5a493826>Профессиональная замена экранов для всех моделей мониторов.</p></div><div class="text-center fade-in" style="animation-delay:0.6s;" data-v-5a493826><h3 class="text-xl font-bold mb-2" data-v-5a493826>+ Продажа мониторов</h3><p class="text-gray-600" data-v-5a493826>Refurbished мониторы с гарантией качества.</p></div></div></div>',1))])])}var ee={name:"ContactPage",data(){return{employees:[{name:"Иванов Алексей Сергеевич",role:"Ведущий мастер по ремонту мониторов",image:"/images/t1.jpg"},{name:"Ковалёв Сергей Викторович",role:"Специалист по диагностике мониторов",image:"/images/t2.jpg"},{name:"Сидоров Дмитрий Иванович",role:"Техник по замене матриц",image:"/images/t3.jpg"},{name:"Козлов Андрей Юрьевич",role:"Менеджер по продажам мониторов",image:"/images/t4.png"},{name:"Морозов Павел Николаевич",role:"Специалист по ремонту плат",image:"/images/t5.jpg"},{name:"Смирнов Олег Петрович",role:"Администратор сервиса",image:"/images/t6.png"}]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const te=(0,L.A)(ee,[["render",Y],["__scopeId","data-v-5a493826"]]);var ae=te;const se={class:"app-container"},re={class:"table-container"},ne={class:"styled-table clients-table"},le=["src"],ie={key:1},oe={class:"action-buttons"},ce={key:0,class:"no-data"},de={key:1,class:"pagination"},ue=["disabled"],pe=["disabled"];function he(e,t,a,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[t[5]||(t[5]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",se,[t[4]||(t[4]=(0,r.Lk)("h1",{class:"page-title"},"Список клиентов",-1)),(0,r.Lk)("div",re,[(0,r.Lk)("table",ne,[t[3]||(t[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Имя"),(0,r.Lk)("th",null,"Фамилия"),(0,r.Lk)("th",null,"Телефон"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Адрес"),(0,r.Lk)("th",null,"Заметки"),(0,r.Lk)("th",null,[(0,r.eW)("Предпочитаемый"),(0,r.Lk)("br"),(0,r.eW)("способ связи")]),(0,r.Lk)("th",null,"Фото"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.clients,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,n.v_)((l.currentPage-1)*l.pageSize+a+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.first_name||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.last_name||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.phone||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.email||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.address||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.notes||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.preferred_contact||"N/A"),1),(0,r.Lk)("td",null,[e.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${e.photo.replace("/img/","/images/")}`,alt:"Client Photo",class:"product-image"},null,8,le)):((0,r.uX)(),(0,r.CE)("span",ie,"N/A"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",oe,[(0,r.bF)(o,{to:`/view-clients/${e.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),l.clients.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",ce,"Нет клиентов")),l.totalPages>1?((0,r.uX)(),(0,r.CE)("div",de,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===l.currentPage},"← Предыдущая",8,ue),(0,r.Lk)("span",null,"Страница "+(0,n.v_)(l.currentPage)+" из "+(0,n.v_)(l.totalPages),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:l.currentPage===l.totalPages},"Следующая →",8,pe)])):(0,r.Q3)("",!0)])])])}var ge={data(){return{clients:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchClients()},methods:{async fetchClients(){try{const e=await fetch(`${this.backendUrl}/api/clients?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();this.clients=t.clients||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Error fetching clients:",e),this.clients=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchClients())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchClients())}}};const ke=(0,L.A)(ge,[["render",he],["__scopeId","data-v-91e1b024"]]);var ve=ke;const me={class:"app-container"},fe={class:"table-container"},be={class:"styled-table repairs-table"},Le=["src"],ye={key:1},we={class:"action-buttons"},_e={key:0,class:"no-data"},Ee={key:1,class:"pagination"},xe=["disabled"],Ce=["disabled"];function Ae(e,t,a,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[t[5]||(t[5]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",me,[t[4]||(t[4]=(0,r.Lk)("h1",{class:"page-title"},"Список ремонтов",-1)),(0,r.Lk)("div",fe,[(0,r.Lk)("table",be,[t[3]||(t[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Имя клиента"),(0,r.Lk)("th",null,"Тип монитора"),(0,r.Lk)("th",null,"Бренд"),(0,r.Lk)("th",null,"Модель"),(0,r.Lk)("th",null,"Описание неисправности"),(0,r.Lk)("th",null,"Стоимость ремонта"),(0,r.Lk)("th",null,"Статус"),(0,r.Lk)("th",null,"Фото"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.repairs,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,n.v_)((l.currentPage-1)*l.pageSize+a+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.client_name||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.type||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.brand||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.model||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.issue_description||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.repair_cost||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e.status||"N/A"),1),(0,r.Lk)("td",null,[e.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${e.photo.replace("/img/","/images/")}`,alt:"Repair Photo",class:"product-image"},null,8,Le)):((0,r.uX)(),(0,r.CE)("span",ye,"N/A"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",we,[(0,r.bF)(o,{to:`/view-repairs/${e.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),l.repairs.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",_e,"Нет ремонтов")),l.totalPages>1?((0,r.uX)(),(0,r.CE)("div",Ee,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===l.currentPage},"← Предыдущая",8,xe),(0,r.Lk)("span",null,"Страница "+(0,n.v_)(l.currentPage)+" из "+(0,n.v_)(l.totalPages),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:l.currentPage===l.totalPages},"Следующая →",8,Ce)])):(0,r.Q3)("",!0)])])])}var Pe={data(){return{repairs:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchRepairs()},methods:{async fetchRepairs(){try{const e=await fetch(`${this.backendUrl}/api/repairs?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();this.repairs=t.repairs||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Error fetching repairs:",e),this.repairs=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchRepairs())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchRepairs())}}};const Xe=(0,L.A)(Pe,[["render",Ae],["__scopeId","data-v-06b61940"]]);var $e=Xe;const je={class:"container"},Ie={class:"form-group"},We={class:"form-group"},Te={key:0,class:"error"};function Ne(e,t,a,l,i,o){return(0,r.uX)(),(0,r.CE)("div",je,[t[6]||(t[6]=(0,r.Lk)("h2",null,"Вход",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>o.login&&o.login(...e)),["prevent"]))},[(0,r.Lk)("div",Ie,[t[3]||(t[3]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),required:"",class:"form-input"},null,512),[[s.Jo,i.email]])]),(0,r.Lk)("div",We,[t[4]||(t[4]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),required:"",class:"form-input"},null,512),[[s.Jo,i.password]])]),t[5]||(t[5]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),i.error?((0,r.uX)(),(0,r.CE)("p",Te,(0,n.v_)(i.error),1)):(0,r.Q3)("",!0)],32)])}var Oe={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();console.log("Login response:",t),e.ok?(localStorage.setItem("token",t.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=t.message||"Ошибка входа"}catch(e){console.error("Error during login:",e),this.error="Ошибка сервера"}}}};const Me=(0,L.A)(Oe,[["render",Ne],["__scopeId","data-v-0c964ea8"]]);var Qe=Me;const Se={class:"container"},Fe={class:"form-group"},Ue={class:"form-group"},De={class:"form-group"},Re={key:0,class:"error"};function qe(e,t,a,l,i,o){return(0,r.uX)(),(0,r.CE)("div",Se,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Регистрация",-1)),(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>o.register&&o.register(...e)),["prevent"]))},[(0,r.Lk)("div",Fe,[t[4]||(t[4]=(0,r.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),required:"",class:"form-input"},null,512),[[s.Jo,i.username]])]),(0,r.Lk)("div",Ue,[t[5]||(t[5]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>i.email=e),required:"",class:"form-input"},null,512),[[s.Jo,i.email]])]),(0,r.Lk)("div",De,[t[6]||(t[6]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),required:"",class:"form-input"},null,512),[[s.Jo,i.password]])]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),i.error?((0,r.uX)(),(0,r.CE)("p",Re,(0,n.v_)(i.error),1)):(0,r.Q3)("",!0)],32)])}var Ge={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),t=await e.json();console.log("Registration response:",t),e.ok?this.$router.push("/login"):this.error=t.message||"Ошибка регистрации"}catch(e){console.error("Error during registration:",e),this.error="Ошибка сервера"}}}};const He=(0,L.A)(Ge,[["render",qe],["__scopeId","data-v-4c6411a6"]]);var Ve=He;const Je={class:"app-container"},Ze={key:0,class:"loading-message"},Ke={key:1,class:"error-message"},ze={key:2,class:"client-details"},Be={class:"product-image-container"},Ye=["src"],et={key:1},tt={class:"client-info"},at={class:"action-buttons"},st={key:3,class:"error-message"};function rt(e,t,a,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Je,[t[9]||(t[9]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр клиента",-1)),l.loading?((0,r.uX)(),(0,r.CE)("div",Ze,"Загрузка данных...")):l.errorMessage?((0,r.uX)(),(0,r.CE)("div",Ke,(0,n.v_)(l.errorMessage),1)):l.client?((0,r.uX)(),(0,r.CE)("div",ze,[(0,r.Lk)("div",Be,[l.client.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${l.client.photo.replace("/img/","/images/")}`,alt:"Client Photo",class:"product-image"},null,8,Ye)):((0,r.uX)(),(0,r.CE)("span",et,"Нет изображения"))]),(0,r.Lk)("div",tt,[(0,r.Lk)("p",null,[t[1]||(t[1]=(0,r.Lk)("strong",null,"Имя:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.first_name||"N/A"),1)]),(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Фамилия:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.last_name||"N/A"),1)]),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Телефон:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.phone||"N/A"),1)]),(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Email:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.email||"N/A"),1)]),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Адрес:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.address||"N/A"),1)]),(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Заметки:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.notes||"N/A"),1)]),(0,r.Lk)("p",null,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Предпочитаемый способ связи:",-1)),(0,r.eW)(" "+(0,n.v_)(l.client.preferred_contact||"N/A"),1)])]),(0,r.Lk)("div",at,[(0,r.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/clients"))},"Вернуться к списку"),(0,r.bF)(o,{to:`/clients/edit/${l.client.id}`,class:"btn-primary"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Редактировать")]))),_:1},8,["to"])])])):((0,r.uX)(),(0,r.CE)("div",st,"Не удалось загрузить данные о клиенте."))])}var nt={data(){return{client:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchClient(e)},methods:{async fetchClient(e){try{const t=await fetch(`${this.backendUrl}/api/view-client/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Клиент не найден");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();this.client=a}catch(t){console.error("Ошибка при получении данных клиента:",t),this.errorMessage=t.message}finally{this.loading=!1}}}};const lt=(0,L.A)(nt,[["render",rt],["__scopeId","data-v-37a93980"]]);var it=lt;const ot={class:"app-container"},ct={key:0,class:"loading-message"},dt={key:1,class:"error-message"},ut={key:2,class:"repair-details"},pt={class:"product-image-container"},ht=["src"],gt={key:1},kt={class:"repair-info"},vt={class:"action-buttons"},mt={key:3,class:"error-message"};function ft(e,t,a,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",ot,[t[9]||(t[9]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр ремонта",-1)),l.loading?((0,r.uX)(),(0,r.CE)("div",ct,"Загрузка данных...")):l.errorMessage?((0,r.uX)(),(0,r.CE)("div",dt,(0,n.v_)(l.errorMessage),1)):l.repair?((0,r.uX)(),(0,r.CE)("div",ut,[(0,r.Lk)("div",pt,[l.repair.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${l.backendUrl}${l.repair.photo.replace("/img/","/images/")}`,alt:"Repair Photo",class:"product-image"},null,8,ht)):((0,r.uX)(),(0,r.CE)("span",gt,"Нет изображения"))]),(0,r.Lk)("div",kt,[(0,r.Lk)("p",null,[t[1]||(t[1]=(0,r.Lk)("strong",null,"Имя клиента:",-1)),(0,r.eW)(" "+(0,n.v_)(l.repair.client_name||"N/A"),1)]),(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Тип монитора:",-1)),(0,r.eW)(" "+(0,n.v_)(l.repair.type||"N/A"),1)]),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Бренд:",-1)),(0,r.eW)(" "+(0,n.v_)(l.repair.brand||"N/A"),1)]),(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Модель:",-1)),(0,r.eW)(" "+(0,n.v_)(l.repair.model||"N/A"),1)]),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Описание неисправности:",-1)),(0,r.eW)(" "+(0,n.v_)(l.repair.issue_description||"N/A"),1)]),(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Стоимость ремонта:",-1)),(0,r.eW)(" "+(0,n.v_)(l.repair.repair_cost||"N/A"),1)]),(0,r.Lk)("p",null,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Статус:",-1)),(0,r.eW)(" "+(0,n.v_)(l.repair.status||"N/A"),1)])]),(0,r.Lk)("div",vt,[(0,r.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/repairs"))},"Вернуться к списку"),(0,r.bF)(o,{to:`/repairs/edit/${l.repair.id}`,class:"btn-primary"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Редактировать")]))),_:1},8,["to"])])])):((0,r.uX)(),(0,r.CE)("div",mt,"Не удалось загрузить данные о ремонте."))])}var bt={data(){return{repair:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchRepair(e)},methods:{async fetchRepair(e){try{const t=await fetch(`${this.backendUrl}/api/view-repair/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Ремонт не найден");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();this.repair=a}catch(t){console.error("Ошибка при получении данных ремонта:",t),this.errorMessage=t.message}finally{this.loading=!1}}}};const Lt=(0,L.A)(bt,[["render",ft],["__scopeId","data-v-5c70dab6"]]);var yt=Lt;const wt=[{path:"/",component:M},{path:"/about",component:q},{path:"/contact",component:ae},{path:"/clients",component:ve},{path:"/repairs",component:$e},{path:"/login",component:Qe},{path:"/register",component:Ve},{path:"/view-clients/:id",component:it},{path:"/view-repairs/:id",component:yt}],_t=(0,_.aE)({history:(0,_.LA)(),routes:wt});var Et=_t;const xt=(0,s.Ef)(w);xt.use(Et),xt.mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,n){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],n=e[d][2];for(var i=!0,o=0;o<s.length;o++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(i=!1,n<l&&(l=n));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,r,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,n,l=s[0],i=s[1],o=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(o)var d=o(a)}for(t&&t(s);c<l.length;c++)n=l[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(8859)}));s=a.O(s)})();
//# sourceMappingURL=app.52722afb.js.map