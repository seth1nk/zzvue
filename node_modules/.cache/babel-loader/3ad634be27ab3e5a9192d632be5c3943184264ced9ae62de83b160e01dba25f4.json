{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"right-panel\"\n};\nconst _hoisted_3 = {\n  class: \"logo-container\"\n};\nconst _hoisted_4 = {\n  class: \"nav-buttons\"\n};\nconst _hoisted_5 = {\n  class: \"button-list\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = {\n  key: 2\n};\nconst _hoisted_9 = {\n  key: 3\n};\nconst _hoisted_10 = {\n  key: 4,\n  class: \"welcome-message\"\n};\nconst _hoisted_11 = {\n  key: 5\n};\nconst _hoisted_12 = {\n  key: 6\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[10] || (_cache[10] = _createElementVNode(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap\",\n    rel: \"stylesheet\"\n  }, null, -1)), _cache[11] || (_cache[11] = _createElementVNode(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\",\n    integrity: \"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==\",\n    crossorigin: \"anonymous\",\n    referrerpolicy: \"no-referrer\"\n  }, null, -1)), _createElementVNode(\"aside\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createElementVNode(\"img\", {\n      src: \"/images/logo.png\",\n      alt: \"MonitorMaster Logo\",\n      class: \"logo\"\n    }, null, -1)])),\n    _: 1\n  })]), _createElementVNode(\"nav\", _hoisted_4, [_createElementVNode(\"ul\", _hoisted_5, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"button\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Главная\")])),\n    _: 1\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/about\",\n    class: \"button\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"О нас\")])),\n    _: 1\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/contact\",\n    class: \"button\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Контакты\")])),\n    _: 1\n  })]), $data.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/repairs\",\n    class: \"button\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Ремонты\")])),\n    _: 1\n  })])) : _createCommentVNode(\"\", true), $data.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_7, [_createVNode(_component_router_link, {\n    to: \"/clients\",\n    class: \"button\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"Клиенты\")])),\n    _: 1\n  })])) : _createCommentVNode(\"\", true), !$data.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_8, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"button\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Войти\")])),\n    _: 1\n  })])) : _createCommentVNode(\"\", true), !$data.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"button\"\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Зарегистрироваться\")])),\n    _: 1\n  })])) : _createCommentVNode(\"\", true), $data.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_10, [_createElementVNode(\"span\", null, \"Добро пожаловать, \" + _toDisplayString($data.username), 1)])) : _createCommentVNode(\"\", true), $data.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_11, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args)),\n    class: \"button\"\n  }, \"Выйти\")])) : _createCommentVNode(\"\", true), $data.isAuthenticated && $data.role === 'admin' ? (_openBlock(), _createElementBlock(\"li\", _hoisted_12, _cache[9] || (_cache[9] = [_createElementVNode(\"a\", {\n    href: \"http://localhost:3000\",\n    class: \"admin-button\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-lock\"\n  }), _createTextVNode(\" Админ-панель\")], -1)]))) : _createCommentVNode(\"\", true)])])]), _createElementVNode(\"main\", null, [_createVNode(_component_router_view)])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","href","rel","integrity","crossorigin","referrerpolicy","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_cache","src","alt","_","_hoisted_4","_hoisted_5","_createTextVNode","$data","isAuthenticated","_hoisted_6","_createCommentVNode","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","username","_hoisted_11","onClick","args","$options","logout","role","_hoisted_12","_component_router_view"],"sources":["/home/vas/zuev/repairs/vue/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"app-wrapper\">\n    <link href=\"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\" integrity=\"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n    <aside class=\"right-panel\">\n      <div class=\"logo-container\">\n        <router-link to=\"/\">\n          <img src=\"/images/logo.png\" alt=\"MonitorMaster Logo\" class=\"logo\" />\n        </router-link>\n      </div>\n      <nav class=\"nav-buttons\">\n        <ul class=\"button-list\">\n          <li><router-link to=\"/\" class=\"button\">Главная</router-link></li>\n          <li><router-link to=\"/about\" class=\"button\">О нас</router-link></li>\n          <li><router-link to=\"/contact\" class=\"button\">Контакты</router-link></li>\n          <li v-if=\"isAuthenticated\"><router-link to=\"/repairs\" class=\"button\">Ремонты</router-link></li>\n          <li v-if=\"isAuthenticated\"><router-link to=\"/clients\" class=\"button\">Клиенты</router-link></li>\n          <li v-if=\"!isAuthenticated\"><router-link to=\"/login\" class=\"button\">Войти</router-link></li>\n          <li v-if=\"!isAuthenticated\"><router-link to=\"/register\" class=\"button\">Зарегистрироваться</router-link></li>\n          <li v-if=\"isAuthenticated\" class=\"welcome-message\"><span>Добро пожаловать, {{ username }}</span></li>\n          <li v-if=\"isAuthenticated\"><button @click=\"logout\" class=\"button\">Выйти</button></li>\n          <li v-if=\"isAuthenticated && role === 'admin'\"><a href=\"http://localhost:3000\" class=\"admin-button\"><i class=\"fas fa-lock\"></i> Админ-панель</a></li>\n        </ul>\n      </nav>\n    </aside>\n    <main>\n      <router-view></router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isAuthenticated: false,\n      username: '',\n      role: ''\n    };\n  },\n  created() {\n    this.checkAuth();\n  },\n  methods: {\n    async checkAuth() {\n      try {\n        const response = await fetch('http://localhost:3000/auth/check', {\n          method: 'GET',\n          credentials: 'include',\n        });\n        const data = await response.json();\n\n        if (response.ok) {\n          this.isAuthenticated = true;\n          this.username = data.username || 'Пользователь';\n          this.role = data.role || '';\n        } else {\n          console.error('Токен недействителен:', data.message);\n          this.isAuthenticated = false;\n          this.username = '';\n          this.role = '';\n        }\n      } catch (err) {\n        console.error('Ошибка проверки авторизации:', err);\n        this.isAuthenticated = false;\n        this.username = '';\n        this.role = '';\n      }\n    },\n    async logout() {\n      try {\n        const response = await fetch('http://localhost:3000/auth/logout', {\n          method: 'GET',\n          credentials: 'include',\n        });\n\n        if (response.ok) {\n          this.isAuthenticated = false;\n          this.username = '';\n          this.role = '';\n          this.$router.push('/');\n        } else {\n          console.error('Сервер вернул ошибку при выходе');\n        }\n      } catch (err) {\n        console.error('Ошибка выхода:', err);\n        this.isAuthenticated = false;\n        this.username = '';\n        this.role = '';\n        this.$router.push('/');\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.app-wrapper {\n  display: flex;\n  min-height: 100vh;\n}\n\n.right-panel {\n  position: fixed;\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 15px;\n  border-radius: 10px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n  width: 220px;\n}\n\n.logo-container {\n  display: flex;\n  justify-content: center;\n}\n\n.logo {\n  max-width: 100px;\n  height: auto;\n  border-radius: 8px;\n  transition: transform 0.3s ease;\n}\n\n.logo:hover {\n  transform: scale(1.05);\n}\n\n.button-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n}\n\n.button {\n  display: block;\n  width: 180px;\n  padding: 10px 15px;\n  background: linear-gradient(45deg, #2563eb, #7c3aed);\n  color: #ffffff;\n  text-decoration: none;\n  border-radius: 8px;\n  font-weight: bold;\n  text-align: center;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);\n}\n\n.button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.admin-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  padding: 10px 15px;\n  background: linear-gradient(45deg, #ef4444, #f97316);\n  color: #ffffff;\n  text-decoration: none;\n  border-radius: 8px;\n  font-size: 1.1rem;\n  font-weight: bold;\n  text-align: center;\n  border: 2px solid #f97316;\n  box-shadow: 0 0 10px rgba(249, 115, 22, 0.5), 0 3px 8px rgba(0, 0, 0, 0.2);\n  transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;\n}\n\n.admin-button i {\n  margin-right: 8px;\n}\n\n.admin-button:hover {\n  transform: scale(1.05);\n  background: linear-gradient(45deg, #f97316, #ef4444);\n  box-shadow: 0 0 15px rgba(249, 115, 22, 0.7), 0 4px 12px rgba(0, 0, 0, 0.3);\n  animation: pulse 1.5s infinite;\n}\n\n.welcome-message span {\n  display: block;\n  width: 180px;\n  padding: 10px 15px;\n  font-size: 16px;\n  color: #ffffff;\n  font-weight: bold;\n  text-align: center;\n  background: rgba(59, 130, 246, 0.5);\n  border-radius: 8px;\n}\n\nmain {\n  flex: 1;\n  margin-right: 240px;\n  padding: 20px;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 10px rgba(249, 115, 22, 0.5), 0 3px 8px rgba(0, 0, 0, 0.2);\n  }\n  50% {\n    box-shadow: 0 0 20px rgba(249, 115, 22, 0.8), 0 3px 8px rgba(0, 0, 0, 0.2);\n  }\n  100% {\n    box-shadow: 0 0 10px rgba(249, 115, 22, 0.5), 0 3px 8px rgba(0, 0, 0, 0.2);\n  }\n}\n\n@media (max-width: 768px) {\n  .right-panel {\n    width: 160px;\n    padding: 15px;\n  }\n\n  .logo {\n    max-width: 80px;\n  }\n\n  .button, .admin-button, .welcome-message span {\n    width: 140px;\n    padding: 8px 10px;\n    font-size: 0.9rem;\n  }\n\n  .admin-button {\n    font-size: 1rem;\n  }\n\n  main {\n    margin-right: 180px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}